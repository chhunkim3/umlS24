podTemplate(containers: [
  containerTemplate(
    name: 'maven',
    image: 'maven:3.8.1-jdk-8',
    command: 'sleep',
    args: '30d'
    ),
]) {
  node(POD_LABEL) {
    stage('Get a Maven project') {
      git url 'https://github.com/chhunkim3/simple-java-maven-app.git', branch: 'master'
      container('maven') {
        stage('Build a Maven project') {
          sh '''
          echo "maven build"
          mvn -B -DskipTests clean package
          '''
        }
      }
    }
  }
}
